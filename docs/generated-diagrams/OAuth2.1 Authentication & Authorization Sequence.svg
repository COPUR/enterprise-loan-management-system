<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="550px" preserveAspectRatio="none" style="width:673px;height:550px;background:#000000;" version="1.1" viewBox="0 0 673 550" width="673px" zoomAndPan="magnify"><defs/><g><rect fill="#010522" height="1" style="stroke:#010522;stroke-width:1;" width="1" x="0" y="0"/><text fill="#33FF02" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="115.1484" x="5" y="17">PlantUML 1.2025.3</text><rect fill="#33FF02" height="21.4883" style="stroke:#33FF02;stroke-width:1;" width="661.3906" x="5" y="27.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="410.3545" x="6" y="42.1328">[From oauth2-authentication-sequence.puml (line 124) ]</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="62.6211">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="447.3779" x="5" y="79.1094">@startuml OAuth2.1 Authentication &amp; Authorization Sequence</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="95.5977">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="112.0859">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="128.5742">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="145.0625">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10.377" x="5" y="161.5508">...</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="168.8135" x="5" y="178.0391">... ( skipping 244 lines )</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10.377" x="5" y="194.5273">...</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="661.3906" x="5" y="211.0156">PartyDB -&gt; BankingService : 22. Confirm Authorization\nRole valid for requested operation</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="227.5039">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="182.2188" x="5" y="243.9922">note over BankingService</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="171.6025" x="23.457" y="260.4805">**Authorization Logic:**</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="169.75" x="23.457" y="276.9688">- JWT signature valid &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.9111" x="23.457" y="293.457">- Token not expired &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="236.9268" x="23.457" y="309.9453">- User has LOAN_OFFICER role &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="147.4102" x="23.457" y="326.4336">- Role not expired &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190.8594" x="23.457" y="342.9219">- Role review up to date &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="206.8281" x="23.457" y="359.4102">- Monetary limit sufficient &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190.668" x="23.457" y="375.8984">- Business unit matches &#10003;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63.3008" x="5" y="392.3867">end note</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="408.875">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="606.6143" x="5" y="425.3633">BankingService -&gt; DB : 23. Execute Business Operation\nSELECT loan_data WHERE...</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="352.085" x="5" y="441.8516">DB -&gt; BankingService : 24. Return Business Data</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="567.0684" x="5" y="458.3398">BankingService -&gt; App : 25. API Response\nLoan data + authorization context</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="474.8281">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="259.5332" x="5" y="491.3164">== Audit &amp; Compliance Logging ==</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="507.8047">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="wavy underline" textLength="53.9629" x="5" y="524.293">parallel</text><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="352.6523" x="9.6143" y="540.7813">Syntax Error? (Assumed diagram type: sequence)</text><!--SRC=[bLZRSXkv4NsVhq3MgQsrnRikjbdnLYXgw71NjoLb-s6vnG9dG16h8S35O2GhgLJb7_AQftpQVacw6vWh9NjZLLcQ0T3NqwSRyoUx4Ll1TWcNAWZIEwbstF0jM_7exjReJCLZdMZ3Nan6-5FP0VzR6SaTLvRz8s3mxxHv9dmpEPgSkJLjOc7y-q7_xSdaCFXdHHgFBAmy8sSo2NkdWtqvaydRDxqUo0cij8bWLwFCRWQTFiFVGe5vt4gjsBVqGXlvT_SyIVJ3GZr8ks4_YiSeqVoknSxFHjSjnbNChi6pHtR6BMSNNF5R292oGU1C_EQKAx3wbdr8XVc6yPJ-A6oiHgNOEjhj4cyBdO3d8ZYr0wFhANlFhNZWZxJH_mtIZ_6dlZatlN2RZXHlNuI7aq5J0Jh9fZ761boyDlfUnjuDMdenwKsEneVrGq_6WyxGojaf71k7H-7uQU_Fz1R0nUR2tCj8q3c_v5-1gNrmBmnYKB7YgG2LEhMtHin_EgVzf69oSdfo6WJlth6fabRof9bcJ2jxzou8A2FjxodEGzRli54KYRHGMyt7GdKJVGlOnxrm98_ua0qwR2PYQKHacTL5a1UgZgLGnJij0H_vIH1Iv6383ZliVNZ3kaRmP9jsLyw2DZrsTqPR7Ucakr1w9vICsv5M2XHsEUXOg0CM9H8SNCgunOmtPfaPsMAHZiKosl0a4UfM187ILZ1z3txdogbSNhqgQc8k8ZW9YPm8RZCZqk6hLxIdpQv_78SaaHKIsJrFP4mk-arZCeNnMipzMXvOScl_w1o2Zx5ASnEYZOZkqa10iQ7XGL143A97sHkoemwRRo2XvvWUDj5ckr3VvOfkaBLUbfckHFmOpcMhhRHi3253KtcImj4CjYg-5IrWhZHz01vvMTTB1J1a9vqghWIPir2qU2h1u9duBHEf3UXDNVNhJXEICv5cYSLCagKZQurSPLQarOoX99yj4jhOMkOfa_6G_QetgfE2Vnl_Db93zWEyP7DyoPX_7GkiHYpL8SIGgzI_9weSGawK13h35NQrNaCP6hz1R7U9VXJYCjkkX1coyEAwrnluHUJbNJfauB5gQtSkRR4Srm1ZGvvNamiLEzD0pn0CdMHFCZ9MRJKNER4CsPiE-oaJvj6pCWg2R59DyPti4kE8j5j6fMjmIv1B064avsq7W6-Z3N21bVSY5pGFpyFn3Nl59hEh2-ffZqiIm3xzBPo5dKudS49AY_ezP0Oe8UNSGcAiggi0ejyljdf_BQzg__dyQdIvl9fCfkDm1Yq8dov6bwFtuUoNAaAyT0-ICXAakyG7lXgogao_a2j_PEVYNYI0LBzmePMm7A9xBY5sG_RdurwlrOEUwkiwIwL2vloWS7MijrjX8gJUAgB2zLgue7u0v8FqGMzmtEuFseTzl-ESfnO2SI_50wqUjNidxLw_Zf4RVISKUo-KXn20112p0oo9FNnKOmn4xGy9ziEd6oTdeQOgIZAWDCec42PCE5lupRCOg46gjVu2QHPYWFNmM1dYD5jLI_2l7lYTH4SyyNk81PUSUaw7r0zPBTE_-8t-yFAfFKqqr4_aPVZpL-imFxdrcLucBjEGw3BFFCV7CgdZO-K1iCo-183KyViIwQa_E3mwRlDL50k_AhbjCV5vrs8oTGduCl7t3piDTXXZQygni515MwO9ZlhM0KkXiaIpyqCFcUW4nuByZ1_xzkNd0q0LMT1A70h2pz0OeIikrFNL_F_lvjOXye1izRqRK2VNKfXMtkEXEHfXwn7nRfmK4umpfmm50lK0djVGppT-zO1DpzoVL5P53JTynXPCTUKTRynae1RR6Goalk6vQ8F22liY-j8kfRmn5mtPgU06al6NNn_iaWBmVH0qT3of5GZ_eniWN3dFvQsYWMMXFgJO-ui0xR8LZ77iJZm-8RZ2rq3z7p7QZsoS6OD3377d712J_P5UqetSiM2lgGoW5RX0aaIo6wfeeGeFHC6D-9ZY68SiI73DqhtUCkZNUqjkesjQBImQB2M0SfoB4d7LhBru3e0UnrgjfTdM4G1rX1feM6Dh60MCoxE8MS4ULOgiI_P4MSSKZcfHoPMOlJJFdbVq-t_-xLSTM2iEuLenlL0XR_1QKk54ulAA27AW8Q6wv6ETxN20ftIK6uhEHtm8l8uSIXDkkQSe7MG_jkKmFi1WWEibWUqZpoKII2py3FCkA2t4NELnBUOEBA0bNdkQuyP-7eyAP1JoQFBODy2nnk0uBz-SB6ZM8sK7EUFxn05HMV7P4b-Cg45-YrmFjoIkG2RazHOh3za2h-jmHKZyJVtviXkSy0wUpAahl8VWOWr3ObrlX8IX_wvbF2ElGiU3avKNMB-0ERdpZ6IkiuHGqiPxPEmLOReQbkzLyckmTWuNVE43C1CHN15WZBYSXxCRDhsykNApmnBkYvWdbFBCI39u3PQINNdeQdupGKk6D8ZOMUTPsFV00R3WcKnt2LmeAMrJ65ZCreE7c7XMUlbXIfdBhrdb9Pr6ADSRC7SyiRxiBe6S0PzGDO_ao7xp6xpjDFgAxmDv3xI-sHYtoN7yNbHAF1pIsDo-pvdHZy2EFeb_i6HTdqsREQhUg84Yd-3nFSsk2Ww1_Yw10whz4vAnGnDYFnGokNPJejVkCm8H3Oq1m-QHKDn8dHP1R7vuu381YYCJdhWMFh4RT7m1FmXojmklWN0VipJE6fVJjTC6HPj1rPezGHv2xjxiF2Wvu1D2XqPbuZs0fdCMlQ9eDhwKULsicP0zVgB3eUFXxZnBOGAAlPVFCTHHxn3lzIiPnsvWhv1mZP- -oZNxh92df73EOVXZyMcYbhG_C9TCbMjWjP7aA-xruKAKEoAGIxoCibI-I7WpiTCcjtoQffbtXthoIbkhjxuDmw7dl-_y_g__bbz6YJheUm-Md50R9FYu-39J7BZ84YlRG3_8MhN8VbTOUE30Vf1_C3rzMHo_0T1ge5jNrDkIa4W_jUioitW0kuqHK2OfpahkafOuxYpsv1z_eh8pIQY0suQe6KpZRIktxkhN_1f5pjLxlq1kZTnNta9NhVLxtiOs2JBBxly_]--></g></svg>