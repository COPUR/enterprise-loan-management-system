<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2860px" preserveAspectRatio="none" style="width:2226px;height:2860px;background:#FFFFFF;" version="1.1" viewBox="0 0 2226 2860" width="2226px" zoomAndPan="magnify"><defs/><g><g><title>LoanController</title><rect fill="#FFFFFF" height="460.9688" style="stroke:#181818;stroke-width:1;" width="10" x="416.9248" y="126.4199"/></g><g><title>LoanApplicationService</title><rect fill="#FFFFFF" height="374.0371" style="stroke:#181818;stroke-width:1;" width="10" x="661.8384" y="213.3516"/></g><g><title>LoanApplicationService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="661.8384" y="1970.7207"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="145.5527" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="343.5938"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="257.1738" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="834.5176"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="149.2422" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="2315.1367"/></g><g><title>Loan</title><rect fill="#FFFFFF" height="229.1738" style="stroke:#181818;stroke-width:1;" width="10" x="1197.4976" y="1319.8203"/></g><g><title>Loan</title><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1;" width="10" x="1197.4976" y="1838.7891"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="86.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="372.9043"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="156.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="863.8281"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="77.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="2344.4473"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="1578.3047"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="2000.0313"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="2256.5156"/></g><g><title>EventPublisher</title><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1786.7505" y="674.9648"/></g><g><title>EventPublisher</title><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1786.7505" y="1722.5469"/></g><g><title>LoanCreationSaga</title><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1;" width="10" x="2032.5229" y="704.2754"/></g><g><title>LoanCreationSaga</title><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1;" width="10" x="2032.5229" y="1751.8574"/></g><rect fill="none" height="1656.4375" style="stroke:#000000;stroke-width:1.5;" width="2199.3584" x="10" y="504.1465"/><rect fill="none" height="1046.8926" style="stroke:#000000;stroke-width:1.5;" width="2179.3584" x="20" y="1106.6914"/><rect fill="none" height="335.416" style="stroke:#000000;stroke-width:1.5;" width="1715.1284" x="20" y="2217.8945"/><g><title>Bank Employee</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="84.0576" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="88" x2="88" y1="36.4883" y2="2824.6582"/></g><g><title>LoanController</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="417.9248" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="421.6021" x2="421.6021" y1="36.4883" y2="2824.6582"/></g><g><title>LoanApplicationService</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="662.8384" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="666.5054" x2="666.5054" y1="36.4883" y2="2824.6582"/></g><g><title>CustomerApplicationService</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="964.5146" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="968.4507" x2="968.4507" y1="36.4883" y2="2824.6582"/></g><g><title>Loan</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="1198.4976" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1202.2554" x2="1202.2554" y1="36.4883" y2="2824.6582"/></g><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="1460.1309" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1463.1577" x2="1463.1577" y1="36.4883" y2="2824.6582"/></g><g><title>LoanRepository</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="1661.8232" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1665.5181" x2="1665.5181" y1="36.4883" y2="2824.6582"/></g><g><title>EventPublisher</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="1787.7505" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1791.1284" x2="1791.1284" y1="36.4883" y2="2824.6582"/></g><g><title>LoanCreationSaga</title><rect fill="#000000" fill-opacity="0.00000" height="2788.1699" width="8" x="2033.5229" y="36.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2036.6558" x2="2036.6558" y1="36.4883" y2="2824.6582"/></g><g class="participant participant-head" data-participant="Employee"><rect fill="#4A90E2" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.1152" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1152" x="37" y="25.5352">Bank Employee</text></g><g class="participant participant-tail" data-participant="Employee"><rect fill="#4A90E2" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.1152" x="30" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1152" x="37" y="2844.1934">Bank Employee</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#F5A623" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.6455" x="364.6021" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6455" x="371.6021" y="25.5352">LoanController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#F5A623" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.6455" x="364.6021" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6455" x="371.6021" y="2844.1934">LoanController</text></g><g class="participant participant-head" data-participant="LoanService"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.666" x="581.5054" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.666" x="588.5054" y="25.5352">LoanApplicationService</text></g><g class="participant participant-tail" data-participant="LoanService"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.666" x="581.5054" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.666" x="588.5054" y="2844.1934">LoanApplicationService</text></g><g class="participant participant-head" data-participant="CustomerService"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.1279" x="866.4507" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1279" x="873.4507" y="25.5352">CustomerApplicationService</text></g><g class="participant participant-tail" data-participant="CustomerService"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.1279" x="866.4507" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1279" x="873.4507" y="2844.1934">CustomerApplicationService</text></g><g class="participant participant-head" data-participant="LoanAggregate"><rect fill="#BD10E0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.4844" x="1179.2554" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.4844" x="1186.2554" y="25.5352">Loan</text></g><g class="participant participant-tail" data-participant="LoanAggregate"><rect fill="#BD10E0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.4844" x="1179.2554" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.4844" x="1186.2554" y="2844.1934">Loan</text></g><g class="participant participant-head" data-participant="CustomerAggregate"><rect fill="#BD10E0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.9463" x="1424.1577" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.9463" x="1431.1577" y="25.5352">Customer</text></g><g class="participant participant-tail" data-participant="CustomerAggregate"><rect fill="#BD10E0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.9463" x="1424.1577" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.9463" x="1431.1577" y="2844.1934">Customer</text></g><g class="participant participant-head" data-participant="LoanRepo"><rect fill="#FF6B6B" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.6104" x="1606.5181" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6104" x="1613.5181" y="25.5352">LoanRepository</text></g><g class="participant participant-tail" data-participant="LoanRepo"><rect fill="#FF6B6B" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.6104" x="1606.5181" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6104" x="1613.5181" y="2844.1934">LoanRepository</text></g><g class="participant participant-head" data-participant="EventPub"><rect fill="#FF6B6B" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.2441" x="1735.1284" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.2441" x="1742.1284" y="25.5352">EventPublisher</text></g><g class="participant participant-tail" data-participant="EventPub"><rect fill="#FF6B6B" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.2441" x="1735.1284" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.2441" x="1742.1284" y="2844.1934">EventPublisher</text></g><g class="participant participant-head" data-participant="Saga"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.7344" x="1969.6558" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.7344" x="1976.6558" y="25.5352">LoanCreationSaga</text></g><g class="participant participant-tail" data-participant="Saga"><rect fill="#7ED321" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.7344" x="1969.6558" y="2823.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.7344" x="1976.6558" y="2844.1934">LoanCreationSaga</text></g><g><title>LoanController</title><rect fill="#FFFFFF" height="460.9688" style="stroke:#181818;stroke-width:1;" width="10" x="416.9248" y="126.4199"/></g><g><title>LoanApplicationService</title><rect fill="#FFFFFF" height="374.0371" style="stroke:#181818;stroke-width:1;" width="10" x="661.8384" y="213.3516"/></g><g><title>LoanApplicationService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="661.8384" y="1970.7207"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="145.5527" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="343.5938"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="257.1738" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="834.5176"/></g><g><title>CustomerApplicationService</title><rect fill="#FFFFFF" height="149.2422" style="stroke:#181818;stroke-width:1;" width="10" x="963.5146" y="2315.1367"/></g><g><title>Loan</title><rect fill="#FFFFFF" height="229.1738" style="stroke:#181818;stroke-width:1;" width="10" x="1197.4976" y="1319.8203"/></g><g><title>Loan</title><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1;" width="10" x="1197.4976" y="1838.7891"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="86.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="372.9043"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="156.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="863.8281"/></g><g><title>Customer</title><rect fill="#FFFFFF" height="77.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1459.1309" y="2344.4473"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="1578.3047"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="2000.0313"/></g><g><title>LoanRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1660.8232" y="2256.5156"/></g><g><title>EventPublisher</title><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1786.7505" y="674.9648"/></g><g><title>EventPublisher</title><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1786.7505" y="1722.5469"/></g><g><title>LoanCreationSaga</title><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1;" width="10" x="2032.5229" y="704.2754"/></g><g><title>LoanCreationSaga</title><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1;" width="10" x="2032.5229" y="1751.8574"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="67.1436"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="67.1436" y2="67.1436"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="70.1436" y2="70.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="169.6382" x="1024.8601" y="56.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="151.3535" x="1030.8601" y="73.0566">Loan Creation Request</text><g class="message" data-participant-1="Employee" data-participant-2="Controller"><polygon fill="#181818" points="404.9248,122.4199,414.9248,126.4199,404.9248,130.4199,408.9248,126.4199" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="88.0576" x2="410.9248" y1="126.4199" y2="126.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.7568" x="95.0576" y="106.3672">POST /api/v1/loans</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.811" x="95.0576" y="121.6777">{customerId, amount, rate, installments}</text></g><g class="message" data-participant-1="Controller" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="426.9248" x2="468.9248" y1="171.041" y2="171.041"/><line style="stroke:#181818;stroke-width:1;" x1="468.9248" x2="468.9248" y1="171.041" y2="184.041"/><line style="stroke:#181818;stroke-width:1;" x1="427.9248" x2="468.9248" y1="184.041" y2="184.041"/><polygon fill="#181818" points="437.9248,180.041,427.9248,184.041,437.9248,188.041,433.9248,184.041" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.3179" x="433.9248" y="150.9883">Validate request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.7573" x="433.9248" y="166.2988">(amount, rate, installments)</text></g><g class="message" data-participant-1="Controller" data-participant-2="LoanService"><polygon fill="#181818" points="649.8384,209.3516,659.8384,213.3516,649.8384,217.3516,653.8384,213.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.9248" x2="655.8384" y1="213.3516" y2="213.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.8115" x="433.9248" y="208.6094">createLoan(CreateLoanCommand)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="242.0068"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="242.0068" y2="242.0068"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="245.0068" y2="245.0068"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="183.1396" x="1018.1094" y="231.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164.855" x="1024.1094" y="247.9199">Business Rule Validation</text><g class="message" data-participant-1="LoanService" data-participant-2="LoanService"><line style="stroke:#181818;stroke-width:1;" x1="671.8384" x2="713.8384" y1="301.2832" y2="301.2832"/><line style="stroke:#181818;stroke-width:1;" x1="713.8384" x2="713.8384" y1="301.2832" y2="314.2832"/><line style="stroke:#181818;stroke-width:1;" x1="672.8384" x2="713.8384" y1="314.2832" y2="314.2832"/><polygon fill="#181818" points="682.8384,310.2832,672.8384,314.2832,682.8384,318.2832,678.8384,314.2832" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.873" x="678.8384" y="281.2305">Calculate total amount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.8604" x="678.8384" y="296.541">(principal + interest)</text></g><g class="message" data-participant-1="LoanService" data-participant-2="CustomerService"><polygon fill="#181818" points="951.5146,339.5938,961.5146,343.5938,951.5146,347.5938,955.5146,343.5938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="671.8384" x2="957.5146" y1="343.5938" y2="343.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.6763" x="678.8384" y="338.8516">isEligibleForLoan(customerId, totalAmount)</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="CustomerAggregate"><polygon fill="#181818" points="1447.1309,368.9043,1457.1309,372.9043,1447.1309,376.9043,1451.1309,372.9043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="973.5146" x2="1453.1309" y1="372.9043" y2="372.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.9634" x="980.5146" y="368.1621">hasSufficientCredit(amount)</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="417.5254" y2="417.5254"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="417.5254" y2="430.5254"/><line style="stroke:#181818;stroke-width:1;" x1="1470.1309" x2="1511.1309" y1="430.5254" y2="430.5254"/><polygon fill="#181818" points="1480.1309,426.5254,1470.1309,430.5254,1480.1309,434.5254,1476.1309,430.5254" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.7759" x="1476.1309" y="397.4727">Check available credit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.1514" x="1476.1309" y="412.7832">(creditLimit - usedCredit)</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerService"><polygon fill="#181818" points="984.5146,455.8359,974.5146,459.8359,984.5146,463.8359,980.5146,459.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="978.5146" x2="1463.1309" y1="459.8359" y2="459.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.7222" x="990.5146" y="455.0938">eligibility result</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="LoanService"><polygon fill="#181818" points="682.8384,485.1465,672.8384,489.1465,682.8384,493.1465,678.8384,489.1465" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="676.8384" x2="967.5146" y1="489.1465" y2="489.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.7222" x="688.8384" y="484.4043">eligibility result</text></g><path d="M10,504.1465 L72.1387,504.1465 L72.1387,511.457 L62.1387,521.457 L10,521.457 L10,504.1465" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1656.4375" style="stroke:#000000;stroke-width:1.5;" width="2199.3584" x="10" y="504.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="517.7148">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.1235" x="87.1387" y="516.7813">[Customer Not Eligible]</text><g class="message" data-participant-1="LoanService" data-participant-2="Controller"><polygon fill="#181818" points="437.9248,538.7676,427.9248,542.7676,437.9248,546.7676,433.9248,542.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.9248" x2="660.8384" y1="542.7676" y2="542.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.9136" x="443.9248" y="538.0254">throw InsufficientCreditException</text></g><g class="message" data-participant-1="Controller" data-participant-2="Employee"><polygon fill="#181818" points="99.0576,583.3887,89.0576,587.3887,99.0576,591.3887,95.0576,587.3887" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.0576" x2="420.9248" y1="587.3887" y2="587.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1709" x="105.0576" y="567.3359">400 Bad Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.1001" x="105.0576" y="582.6465">{errorCode: "INSUFFICIENT_CREDIT"}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="2209.3584" y1="596.3887" y2="596.3887"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.5605" x="15" y="607.0234">[Customer Eligible]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="630.999"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="630.999" y2="630.999"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="633.999" y2="633.999"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="119.3838" x="1049.9873" y="620.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.0991" x="1055.9873" y="636.9121">SAGA Initiation</text><g class="message" data-participant-1="LoanService" data-participant-2="EventPub"><polygon fill="#181818" points="1774.7505,670.9648,1784.7505,674.9648,1774.7505,678.9648,1778.7505,674.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1780.7505" y1="674.9648" y2="674.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.0322" x="673.8384" y="670.2227">publishAsync(LoanApplicationSubmitted)</text></g><g class="message" data-participant-1="EventPub" data-participant-2="Saga"><polygon fill="#181818" points="2020.5229,700.2754,2030.5229,704.2754,2020.5229,708.2754,2024.5229,704.2754" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1796.7505" x2="2026.5229" y1="704.2754" y2="704.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.7725" x="1803.7505" y="699.5332">handle(LoanApplicationSubmitted)</text></g><g class="message" data-participant-1="Saga" data-participant-2="Saga"><line style="stroke:#181818;stroke-width:1;" x1="2042.5229" x2="2084.5229" y1="753.8965" y2="753.8965"/><line style="stroke:#181818;stroke-width:1;" x1="2084.5229" x2="2084.5229" y1="753.8965" y2="766.8965"/><line style="stroke:#181818;stroke-width:1;" x1="2037.5229" x2="2084.5229" y1="766.8965" y2="766.8965"/><polygon fill="#181818" points="2047.5229,762.8965,2037.5229,766.8965,2047.5229,770.8965,2043.5229,766.8965" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.6724" x="2049.5229" y="733.8438">Start SAGA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.583" x="2049.5229" y="749.1543">(store saga state)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="790.5518"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="790.5518" y2="790.5518"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="793.5518" y2="793.5518"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="142.6226" x="1038.3679" y="779.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124.3379" x="1044.3679" y="796.4648">Credit Reservation</text><g class="message" data-participant-1="LoanService" data-participant-2="CustomerService"><polygon fill="#181818" points="951.5146,830.5176,961.5146,834.5176,951.5146,838.5176,955.5146,834.5176" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="957.5146" y1="834.5176" y2="834.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.3262" x="673.8384" y="829.7754">reserveCredit(customerId, totalAmount)</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="CustomerAggregate"><polygon fill="#181818" points="1447.1309,859.8281,1457.1309,863.8281,1447.1309,867.8281,1451.1309,863.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="973.5146" x2="1453.1309" y1="863.8281" y2="863.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.8354" x="980.5146" y="859.0859">reserveCredit(amount)</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="893.1387" y2="893.1387"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="893.1387" y2="906.1387"/><line style="stroke:#181818;stroke-width:1;" x1="1470.1309" x2="1511.1309" y1="906.1387" y2="906.1387"/><polygon fill="#181818" points="1480.1309,902.1387,1470.1309,906.1387,1480.1309,910.1387,1476.1309,906.1387" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.5117" x="1476.1309" y="888.3965">Validate sufficient credit</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="935.4492" y2="935.4492"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="935.4492" y2="948.4492"/><line style="stroke:#181818;stroke-width:1;" x1="1470.1309" x2="1511.1309" y1="948.4492" y2="948.4492"/><polygon fill="#181818" points="1480.1309,944.4492,1470.1309,948.4492,1480.1309,952.4492,1476.1309,948.4492" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.6938" x="1476.1309" y="930.707">Update usedCreditLimit</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="977.7598" y2="977.7598"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="977.7598" y2="990.7598"/><line style="stroke:#181818;stroke-width:1;" x1="1470.1309" x2="1511.1309" y1="990.7598" y2="990.7598"/><polygon fill="#181818" points="1480.1309,986.7598,1470.1309,990.7598,1480.1309,994.7598,1476.1309,990.7598" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6924" x="1476.1309" y="973.0176">raiseEvent(CreditReserved)</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerService"><polygon fill="#181818" points="984.5146,1016.0703,974.5146,1020.0703,984.5146,1024.0703,980.5146,1020.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="978.5146" x2="1463.1309" y1="1020.0703" y2="1020.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="990.5146" y="1015.3281">reservation success</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="CustomerService"><line style="stroke:#181818;stroke-width:1;" x1="973.5146" x2="1015.5146" y1="1049.3809" y2="1049.3809"/><line style="stroke:#181818;stroke-width:1;" x1="1015.5146" x2="1015.5146" y1="1049.3809" y2="1062.3809"/><line style="stroke:#181818;stroke-width:1;" x1="974.5146" x2="1015.5146" y1="1062.3809" y2="1062.3809"/><polygon fill="#181818" points="984.5146,1058.3809,974.5146,1062.3809,984.5146,1066.3809,980.5146,1062.3809" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9829" x="980.5146" y="1044.6387">Save customer &amp; publish events</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="LoanService"><polygon fill="#181818" points="677.8384,1087.6914,667.8384,1091.6914,677.8384,1095.6914,673.8384,1091.6914" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="671.8384" x2="967.5146" y1="1091.6914" y2="1091.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.3223" x="683.8384" y="1086.9492">reservation result</text></g><path d="M20,1106.6914 L82.1387,1106.6914 L82.1387,1114.002 L72.1387,1124.002 L20,1124.002 L20,1106.6914" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1046.8926" style="stroke:#000000;stroke-width:1.5;" width="2179.3584" x="20" y="1106.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="1120.2598">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="150.6592" x="97.1387" y="1119.3262">[Credit Reservation Failed]</text><g class="message" data-participant-1="LoanService" data-participant-2="Controller"><polygon fill="#181818" points="432.9248,1141.3125,422.9248,1145.3125,432.9248,1149.3125,428.9248,1145.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="426.9248" x2="665.8384" y1="1145.3125" y2="1145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.9136" x="438.9248" y="1140.5703">throw InsufficientCreditException</text></g><g class="message" data-participant-1="Controller" data-participant-2="Employee"><polygon fill="#181818" points="99.0576,1185.9336,89.0576,1189.9336,99.0576,1193.9336,95.0576,1189.9336" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.0576" x2="420.9248" y1="1189.9336" y2="1189.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1709" x="105.0576" y="1169.8809">400 Bad Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.1001" x="105.0576" y="1185.1914">{errorCode: "INSUFFICIENT_CREDIT"}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="2199.3584" y1="1198.9336" y2="1198.9336"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171.4238" x="25" y="1209.5684">[Credit Reserved Successfully]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="1233.5439"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1233.5439" y2="1233.5439"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1236.5439" y2="1236.5439"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="111.3794" x="1053.9895" y="1222.8887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93.0947" x="1059.9895" y="1239.457">Loan Creation</text><g class="message" data-participant-1="LoanService" data-participant-2="LoanService"><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="708.8384" y1="1277.5098" y2="1277.5098"/><line style="stroke:#181818;stroke-width:1;" x1="708.8384" x2="708.8384" y1="1277.5098" y2="1290.5098"/><line style="stroke:#181818;stroke-width:1;" x1="667.8384" x2="708.8384" y1="1290.5098" y2="1290.5098"/><polygon fill="#181818" points="677.8384,1286.5098,667.8384,1290.5098,677.8384,1294.5098,673.8384,1290.5098" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.7559" x="673.8384" y="1272.7676">Generate LoanId</text></g><g class="message" data-participant-1="LoanService" data-participant-2="LoanAggregate"><polygon fill="#181818" points="1185.4976,1315.8203,1195.4976,1319.8203,1185.4976,1323.8203,1189.4976,1319.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1191.4976" y1="1319.8203" y2="1319.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.582" x="673.8384" y="1315.0781">new Loan(id, customerId, amount, installments, rate)</text></g><g class="message" data-participant-1="LoanAggregate" data-participant-2="LoanAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1207.4976" x2="1249.4976" y1="1349.1309" y2="1349.1309"/><line style="stroke:#181818;stroke-width:1;" x1="1249.4976" x2="1249.4976" y1="1349.1309" y2="1362.1309"/><line style="stroke:#181818;stroke-width:1;" x1="1208.4976" x2="1249.4976" y1="1362.1309" y2="1362.1309"/><polygon fill="#181818" points="1218.4976,1358.1309,1208.4976,1362.1309,1218.4976,1366.1309,1214.4976,1362.1309" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1011" x="1214.4976" y="1344.3887">Validate business rules</text></g><g class="message" data-participant-1="LoanAggregate" data-participant-2="LoanAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1207.4976" x2="1249.4976" y1="1406.752" y2="1406.752"/><line style="stroke:#181818;stroke-width:1;" x1="1249.4976" x2="1249.4976" y1="1406.752" y2="1419.752"/><line style="stroke:#181818;stroke-width:1;" x1="1208.4976" x2="1249.4976" y1="1419.752" y2="1419.752"/><polygon fill="#181818" points="1218.4976,1415.752,1208.4976,1419.752,1218.4976,1423.752,1214.4976,1419.752" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.873" x="1214.4976" y="1386.6992">Calculate total amount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7178" x="1214.4976" y="1402.0098">(principal &#215; (1 + rate))</text></g><g class="message" data-participant-1="LoanAggregate" data-participant-2="LoanAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1207.4976" x2="1249.4976" y1="1464.373" y2="1464.373"/><line style="stroke:#181818;stroke-width:1;" x1="1249.4976" x2="1249.4976" y1="1464.373" y2="1477.373"/><line style="stroke:#181818;stroke-width:1;" x1="1208.4976" x2="1249.4976" y1="1477.373" y2="1477.373"/><polygon fill="#181818" points="1218.4976,1473.373,1208.4976,1477.373,1218.4976,1481.373,1214.4976,1477.373" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.9438" x="1214.4976" y="1444.3203">Generate installment schedule</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.6333" x="1214.4976" y="1459.6309">(equal amounts, monthly due dates)</text></g><g class="message" data-participant-1="LoanAggregate" data-participant-2="LoanAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1207.4976" x2="1249.4976" y1="1506.6836" y2="1506.6836"/><line style="stroke:#181818;stroke-width:1;" x1="1249.4976" x2="1249.4976" y1="1506.6836" y2="1519.6836"/><line style="stroke:#181818;stroke-width:1;" x1="1208.4976" x2="1249.4976" y1="1519.6836" y2="1519.6836"/><polygon fill="#181818" points="1218.4976,1515.6836,1208.4976,1519.6836,1218.4976,1523.6836,1214.4976,1519.6836" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7153" x="1214.4976" y="1501.9414">raiseEvent(LoanCreated)</text></g><g class="message" data-participant-1="LoanAggregate" data-participant-2="LoanService"><polygon fill="#181818" points="677.8384,1544.9941,667.8384,1548.9941,677.8384,1552.9941,673.8384,1548.9941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="671.8384" x2="1201.4976" y1="1548.9941" y2="1548.9941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.5669" x="683.8384" y="1544.252">loan instance</text></g><g class="message" data-participant-1="LoanService" data-participant-2="LoanRepo"><polygon fill="#181818" points="1648.8232,1574.3047,1658.8232,1578.3047,1648.8232,1582.3047,1652.8232,1578.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1654.8232" y1="1578.3047" y2="1578.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.2227" x="673.8384" y="1573.5625">save(loan)</text></g><g class="message" data-participant-1="LoanRepo" data-participant-2="LoanService"><polygon fill="#181818" points="677.8384,1603.6152,667.8384,1607.6152,677.8384,1611.6152,673.8384,1607.6152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="671.8384" x2="1664.8232" y1="1607.6152" y2="1607.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.063" x="683.8384" y="1602.873">saved loan</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="1636.2705"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1636.2705" y2="1636.2705"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1639.2705" y2="1639.2705"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="130.3208" x="1044.5188" y="1625.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.0361" x="1050.5188" y="1642.1836">Event Publishing</text><g class="message" data-participant-1="LoanService" data-participant-2="LoanService"><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="708.8384" y1="1680.2363" y2="1680.2363"/><line style="stroke:#181818;stroke-width:1;" x1="708.8384" x2="708.8384" y1="1680.2363" y2="1693.2363"/><line style="stroke:#181818;stroke-width:1;" x1="667.8384" x2="708.8384" y1="1693.2363" y2="1693.2363"/><polygon fill="#181818" points="677.8384,1689.2363,667.8384,1693.2363,677.8384,1697.2363,673.8384,1693.2363" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.2441" x="673.8384" y="1675.4941">Get domain events from loan</text></g><g class="message" data-participant-1="LoanService" data-participant-2="EventPub"><polygon fill="#181818" points="1774.7505,1718.5469,1784.7505,1722.5469,1774.7505,1726.5469,1778.7505,1722.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1780.7505" y1="1722.5469" y2="1722.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.3994" x="673.8384" y="1717.8047">publishAsync(LoanCreated)</text></g><g class="message" data-participant-1="EventPub" data-participant-2="Saga"><polygon fill="#181818" points="2020.5229,1747.8574,2030.5229,1751.8574,2020.5229,1755.8574,2024.5229,1751.8574" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1796.7505" x2="2026.5229" y1="1751.8574" y2="1751.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.1396" x="1803.7505" y="1747.1152">handle(LoanCreated)</text></g><g class="message" data-participant-1="Saga" data-participant-2="Saga"><line style="stroke:#181818;stroke-width:1;" x1="2042.5229" x2="2084.5229" y1="1801.4785" y2="1801.4785"/><line style="stroke:#181818;stroke-width:1;" x1="2084.5229" x2="2084.5229" y1="1801.4785" y2="1814.4785"/><line style="stroke:#181818;stroke-width:1;" x1="2037.5229" x2="2084.5229" y1="1814.4785" y2="1814.4785"/><polygon fill="#181818" points="2047.5229,1810.4785,2037.5229,1814.4785,2047.5229,1818.4785,2043.5229,1814.4785" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.8521" x="2049.5229" y="1781.4258">Complete SAGA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8354" x="2049.5229" y="1796.7363">(mark as successful)</text></g><g class="message" data-participant-1="LoanService" data-participant-2="LoanAggregate"><polygon fill="#181818" points="1185.4976,1834.7891,1195.4976,1838.7891,1185.4976,1842.7891,1189.4976,1838.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1191.4976" y1="1838.7891" y2="1838.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.0513" x="673.8384" y="1834.0469">clearDomainEvents()</text></g><g class="message" data-participant-1="LoanService" data-participant-2="Controller"><polygon fill="#181818" points="432.9248,1894.0996,422.9248,1898.0996,432.9248,1902.0996,428.9248,1898.0996" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="426.9248" x2="665.8384" y1="1898.0996" y2="1898.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.9175" x="438.9248" y="1893.3574">loanId</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="1926.7549"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1926.7549" y2="1926.7549"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="1929.7549" y2="1929.7549"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="82.6436" x="1068.3574" y="1916.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64.3589" x="1074.3574" y="1932.668">Response</text><g class="message" data-participant-1="Controller" data-participant-2="LoanService"><polygon fill="#181818" points="649.8384,1966.7207,659.8384,1970.7207,649.8384,1974.7207,653.8384,1970.7207" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="421.9248" x2="655.8384" y1="1970.7207" y2="1970.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.7476" x="428.9248" y="1965.9785">getLoan(loanId)</text></g><g class="message" data-participant-1="LoanService" data-participant-2="LoanRepo"><polygon fill="#181818" points="1648.8232,1996.0313,1658.8232,2000.0313,1648.8232,2004.0313,1652.8232,2000.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="671.8384" x2="1654.8232" y1="2000.0313" y2="2000.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.3569" x="678.8384" y="1995.2891">findById(loanId)</text></g><g class="message" data-participant-1="LoanRepo" data-participant-2="LoanService"><polygon fill="#181818" points="682.8384,2025.3418,672.8384,2029.3418,682.8384,2033.3418,678.8384,2029.3418" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="676.8384" x2="1664.8232" y1="2029.3418" y2="2029.3418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26.9902" x="688.8384" y="2024.5996">loan</text></g><g class="message" data-participant-1="LoanService" data-participant-2="Controller"><polygon fill="#181818" points="432.9248,2054.6523,422.9248,2058.6523,432.9248,2062.6523,428.9248,2058.6523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="426.9248" x2="665.8384" y1="2058.6523" y2="2058.6523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.7124" x="438.9248" y="2053.9102">loan details</text></g><g class="message" data-participant-1="Controller" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="421.9248" x2="463.9248" y1="2087.9629" y2="2087.9629"/><line style="stroke:#181818;stroke-width:1;" x1="463.9248" x2="463.9248" y1="2087.9629" y2="2100.9629"/><line style="stroke:#181818;stroke-width:1;" x1="422.9248" x2="463.9248" y1="2100.9629" y2="2100.9629"/><polygon fill="#181818" points="432.9248,2096.9629,422.9248,2100.9629,432.9248,2104.9629,428.9248,2100.9629" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.8037" x="428.9248" y="2083.2207">Convert to LoanResponse DTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="Employee"><polygon fill="#181818" points="99.0576,2141.584,89.0576,2145.584,99.0576,2149.584,95.0576,2145.584" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.0576" x2="420.9248" y1="2145.584" y2="2145.584"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="105.0576" y="2125.5313">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309.8672" x="105.0576" y="2140.8418">LoanResponse{loanId, totalAmount, installments}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2219.3584" x="0" y="2188.2393"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="2188.2393" y2="2188.2393"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2219.3584" y1="2191.2393" y2="2191.2393"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="239.9321" x="989.7131" y="2177.584"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="221.6475" x="995.7131" y="2194.1523">Error Handling (Alternative Flow)</text><path d="M20,2217.8945 L208.0063,2217.8945 L208.0063,2225.2051 L198.0063,2235.2051 L20,2235.2051 L20,2217.8945" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="335.416" style="stroke:#000000;stroke-width:1.5;" width="1715.1284" x="20" y="2217.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143.0063" x="35" y="2231.4629">Loan Creation Failure</text><g class="message" data-participant-1="LoanService" data-participant-2="LoanRepo"><polygon fill="#181818" points="1648.8232,2252.5156,1658.8232,2256.5156,1648.8232,2260.5156,1652.8232,2256.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="1654.8232" y1="2256.5156" y2="2256.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.103" x="673.8384" y="2251.7734">save(loan) throws Exception</text></g><g class="message" data-participant-1="LoanRepo" data-participant-2="LoanService"><polygon fill="#181818" points="677.8384,2281.8262,667.8384,2285.8262,677.8384,2289.8262,673.8384,2285.8262" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="671.8384" x2="1664.8232" y1="2285.8262" y2="2285.8262"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.9644" x="683.8384" y="2281.084">DatabaseException</text></g><g class="message" data-participant-1="LoanService" data-participant-2="CustomerService"><polygon fill="#181818" points="951.5146,2311.1367,961.5146,2315.1367,951.5146,2319.1367,955.5146,2315.1367" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="666.8384" x2="957.5146" y1="2315.1367" y2="2315.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2153" x="673.8384" y="2310.3945">releaseCredit(customerId, totalAmount)</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="CustomerAggregate"><polygon fill="#181818" points="1447.1309,2340.4473,1457.1309,2344.4473,1447.1309,2348.4473,1451.1309,2344.4473" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="973.5146" x2="1453.1309" y1="2344.4473" y2="2344.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.7246" x="980.5146" y="2339.7051">releaseCredit(amount)</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="2373.7578" y2="2373.7578"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="2373.7578" y2="2386.7578"/><line style="stroke:#181818;stroke-width:1;" x1="1470.1309" x2="1511.1309" y1="2386.7578" y2="2386.7578"/><polygon fill="#181818" points="1480.1309,2382.7578,1470.1309,2386.7578,1480.1309,2390.7578,1476.1309,2386.7578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.2876" x="1476.1309" y="2369.0156">Decrease usedCreditLimit</text></g><g class="message" data-participant-1="CustomerAggregate" data-participant-2="CustomerAggregate"><line style="stroke:#181818;stroke-width:1;" x1="1469.1309" x2="1511.1309" y1="2421.0684" y2="2421.0684"/><line style="stroke:#181818;stroke-width:1;" x1="1511.1309" x2="1511.1309" y1="2421.0684" y2="2434.0684"/><line style="stroke:#181818;stroke-width:1;" x1="1464.1309" x2="1511.1309" y1="2434.0684" y2="2434.0684"/><polygon fill="#181818" points="1474.1309,2430.0684,1464.1309,2434.0684,1474.1309,2438.0684,1470.1309,2434.0684" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.5815" x="1476.1309" y="2416.3262">raiseEvent(CreditReleased)</text></g><g class="message" data-participant-1="CustomerService" data-participant-2="CustomerService"><line style="stroke:#181818;stroke-width:1;" x1="973.5146" x2="1015.5146" y1="2463.3789" y2="2463.3789"/><line style="stroke:#181818;stroke-width:1;" x1="1015.5146" x2="1015.5146" y1="2463.3789" y2="2476.3789"/><line style="stroke:#181818;stroke-width:1;" x1="968.5146" x2="1015.5146" y1="2476.3789" y2="2476.3789"/><polygon fill="#181818" points="978.5146,2472.3789,968.5146,2476.3789,978.5146,2480.3789,974.5146,2476.3789" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9829" x="980.5146" y="2458.6367">Save customer &amp; publish events</text></g><g class="message" data-participant-1="LoanService" data-participant-2="Controller"><polygon fill="#181818" points="432.9248,2496.6895,422.9248,2500.6895,432.9248,2504.6895,428.9248,2500.6895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="426.9248" x2="665.8384" y1="2500.6895" y2="2500.6895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.6348" x="438.9248" y="2495.9473">throw BusinessException</text></g><g class="message" data-participant-1="Controller" data-participant-2="Employee"><polygon fill="#181818" points="99.0576,2541.3105,89.0576,2545.3105,99.0576,2549.3105,95.0576,2545.3105" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.0576" x2="420.9248" y1="2545.3105" y2="2545.3105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.0859" x="105.0576" y="2525.2578">500 Internal Server Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.1743" x="105.0576" y="2540.5684">{errorCode: "BUSINESS_ERROR"}</text></g><path d="M27,2565.3105 L27,2697.3105 L2097,2697.3105 L2097,2575.3105 L2087,2565.3105 L27,2565.3105" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2087,2565.3105 L2087,2575.3105 L2097,2575.3105 L2087,2565.3105" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195.4507" x="895.1189" y="2582.8789">Key Business Rules Enforced:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="895.1189" y="2598.1895">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.7817" x="895.1189" y="2613.5">1. Interest rate: 0.1 &#8804; rate &#8804; 0.5 (10% - 50%)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.0908" x="895.1189" y="2628.8105">2. Installments: Only 6, 9, 12, or 24 allowed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.23" x="895.1189" y="2644.1211">3. Credit validation: totalAmount &#8804; availableCredit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.1528" x="895.1189" y="2659.4316">4. Equal installments with monthly due dates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.3813" x="895.1189" y="2674.7422">5. First installment due on 1st of next month</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325.1523" x="895.1189" y="2690.0527">6. Atomic credit reservation with rollback on failure</text><path d="M1928,2707.7949 L1928,2808.7949 L2145,2808.7949 L2145,2717.7949 L2135,2707.7949 L1928,2707.7949" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2135,2707.7949 L2135,2717.7949 L2145,2717.7949 L2135,2707.7949" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91.9775" x="1934" y="2725.3633">SAGA Pattern:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="1934" y="2740.6738">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.8345" x="1934" y="2755.9844">Ensures distributed transaction</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.2061" x="1934" y="2771.2949">consistency across Customer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.2607" x="1934" y="2786.6055">and Loan contexts with proper</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.7642" x="1934" y="2801.916">compensation on failures</text><!--SRC=[tLZhRjis5Fwlf-0oTB2nDBNJ94EDfe1iovsnB0viPxyA5BH4EqHeIYCffqRH1zWJx0Ns9dkJFSaEgHkjIwnYsvy52629FD-v7txKDm5PKqwGErhEvXz7ivlP77rxuRxfUUVED-dQQ7QxdCzkRhnym-JIlJf_dMzmx-vkfYDtEPtTPZj-yCQlp_lvZl7iPtUQBmx7_PxNonUdjvEvkrZExqVB-xcNwvXS3Q-6ZXDXeQXF8ymLEXbY_eYyRSJ2FI4d2ClymVRWKEOcn7mKSYL2neWmGiLZnRcgh1j5ZFfOqP0lYDXHFr6ibzBdQW0EKKQnLE6MY0QaRBabcbQSM-1kDe9ii3eCSRtw0sLj1BM2EOb2ILKezhbE_QesQOVItevmTHUl69KFgVBiLGjfapL1ac3X3JRo-aTDU9phQsCOoWJGdFmQ4wdGzRNZv1NoyfsT-06wcosMw1MEwAjT_nK3UVc1V_RJ-4o3KuItOSpLAH8GfbD4kLIOiIsu8Byus5TqfyDNG3gE1LzMzWjcDD3xHMBQ1zvfXk-MeUnY6o1Vkqdqkyue_paAjrlCWsvXcILaGZIC9RIRb6WUCv8PfAEbesHhg2WSOUR7J6Eg48nC0mCkH89odJ66lWS7517WMRS2LYxm0QBIOtH3LunCGc4SiUDkbBX6X-LE2GL2L8ArD1NLFK0FM2xYzHeg2q8ByGgeIaDV0vuB5l05LeE2qGFn7n7UOSemUAJJ0peWEicF6xgb2hr4iIH1ehvRXrqR9sAYH1bLUoWS6JFb1AIDqNbCAhbi1va76JELlqIteK9PuXm4VmU9BfUyUX3X4vfoMOg-zyadaIuy0s4NEY3atJf05xqU6k8WQsPeJY94A4PXG0ReP7gxk9zCfgEfTxlyE9fxu-dov8j1jDonMw2qPFKjORBml71Gzyp2VU-22rJHnbR9Xze0HScqS-MU-vtosH6le0uKiJiq4tLo3C0pGqwNBGyOQOEY1HmZLKWl50nJOptK8JWc299w1MQC8bqxuqRQUivjqkud2OCCIF2tCGBLkXL6WAJTzj_rzg6UVxMhyu5Tb6_QsUqnxYE3K7I-cGNjvGMcafY4T1Bv914w-wr7YB1o9sFVXmFWQsT87Um2xs3IPJtpNLRwY6XhPOivPDlLTWvLgt42GvS4_xjPP3jA0hH8yhQE6TlNi9sZv_Txmed8R9W6jRljkkFaoRphKEZOEaPaavM4m9HuXrLEX-0rsl9EMsK4HG11aSS5Mz2IFtz7dJwG4sDYzpXa7YdBGoJz1nA0IO0CwSyLWUTRIDm3swCW9aYx85kei9ew9xcceqkIbIngYfhOnQ64IfLL2dWfkOQo3-08s96EXYbbIoyx-RwgPYqN6FrbjKPILwHn2ALqd_9Dcw9KA0YtcF9qQA2r2BU9bgyuOlFurPnWpn-hLScwanHuTSI8NamEqoqMZ_ek8lEUh1wdzUVfaQRp6S5YR09YP6IdiQTQvhuy15dI_GqpIMSH9auKSfX0EdlFNK4sH9a1aK0sN3gQ2n7k_S5mFmtgvO-LOsCX7lKUXgw24qCsnk2P6nmyx0YGAXMc2jDGZPSpf_dWEE_rKLfe7xWjzpbn_O0HbI-PzKU4GtXW_atVwMC8_QYhMdTTnsLm2-DmBi3nF67XKzUaSYF2E2gT6lheZ4KDZsyO6SaP2fVuWoEpceGCho5vOwpm2iC4F82fowP-NsTT7SU1tf57wUQ1lMM6OSx_jgpJLeUVGozQqyO_Ilp6HD_nPPKwVXLA3NqqXWVT2W5vrjn_GWGR5DbHRylUikyNRJdR9N2sAJVjm936rfSxtIubzZQyNqnllSNYepUVp-P0t4nlyH3C3OrC2dcQ37UjzEtgtKzaV_X51Jg3hqFXas3mzjNgNU5Q_omnGt-GqjnYW7fdVVJNRt-O9_EZTtO9FANt0hq4gryawJdNOiKq6A0P1wPnTOhUdAB- -Ic2jZ-_GB0SFgKC-FLPnXnt-SUTWTq2HbV-eIBPQoGlpf1dc8qzVz0JLGzLYcC4Bi_GX0fmoEP9UWiCbZwy3jT08Z-fHDf8N9qX5r9F_VGMTN01C9fq5bVOVzGOwtGuGIgGpeIT3piBvdv-XvNESYdi7f1zq842AfMWgnWcC582SwcBCIqU7oOnB1Fkxw5tHIYB3wH9FuDwCpLXem9_qfX48epI7JxG0mAOnet2S5bO_ZS0]--></g></svg>