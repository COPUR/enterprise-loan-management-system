<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="550px" preserveAspectRatio="none" style="width:531px;height:550px;background:#000000;" version="1.1" viewBox="0 0 531 550" width="531px" zoomAndPan="magnify"><defs/><g><rect fill="#0B1620" height="1" style="stroke:#0B1620;stroke-width:1;" width="1" x="0" y="0"/><text fill="#33FF02" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="115.1484" x="5" y="17">PlantUML 1.2025.3</text><rect fill="#33FF02" height="21.4883" style="stroke:#33FF02;stroke-width:1;" width="519.1416" x="5" y="27.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="385.1436" x="6" y="42.1328">[From multi-platform-consent-flow.puml (line 119) ]</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="62.6211">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="292.5576" x="5" y="79.1094">@startuml multi-platform-consent-flow</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="95.5977">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="339.623" x="5" y="112.0859">title Multi-Platform Consent Management Flow</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="128.5742">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="258.2754" x="5" y="145.0625">participant "Customer" as customer</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10.377" x="5" y="161.5508">...</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="159.5781" x="5" y="178.0391">... ( skipping 94 lines )</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10.377" x="5" y="194.5273">...</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="300.7471" x="5" y="211.0156">consent --&gt; hub: Valid consent reference</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="227.5039">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="312.8809" x="5" y="243.9922">hub --&gt; tpp: AccessToken + RefreshToken</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="519.1416" x="5" y="260.4805">note right: Multi-platform access token\nwith platform-specific scopes</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="276.9688">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="257.2637" x="5" y="293.457">== Cross-Platform Data Access ==</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="309.9453">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="397.1475" x="5" y="326.4336">tpp -&gt; hub: GET /accounts (with AccessToken + DPoP)</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="456.5996" x="5" y="342.9219">note left: Request customer account data\nacross all platforms</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="359.4102">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="401.3926" x="5" y="375.8984">hub -&gt; consent: validateTokenScope(token, "accounts")</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="295.0732" x="5" y="392.3867">consent --&gt; hub: Scope validation result</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="408.875">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="213.2539" x="5" y="425.3633">== Parallel Data Retrieval ==</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.6143" x="5" y="441.8516">&#160;</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154.7041" x="5" y="458.3398">par Loan Data Access</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="316.3262" x="23.457" y="474.8281">hub -&gt; loans: GET /customer/{id}/accounts</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="438.6826" x="23.457" y="491.3164">loans -&gt; loans: validateConsentScope(consentId, "accounts")</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="244.1045" x="23.457" y="507.8047">loans --&gt; hub: Loan account data</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="wavy underline" textLength="233.4268" x="5" y="524.293">and Islamic Finance Data Access</text><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="352.6523" x="9.6143" y="540.7813">Syntax Error? (Assumed diagram type: sequence)</text><!--SRC=[ZLZVRzis47xNNq7aOR2nUCtQjm3Pu2PEbwrPZ2JjKu21bcYRY4Hf99KqA_g_xtWyKgGjD-rB8-jul- -xZxBIre9TzxMLisNDxRhL3JjlbH7Aickk-4Oqxi_BkdqkYevhAqlPSVZbwBmtjcs4FcBSi98USf7xhTGLMy9FBspUTIXfkouNkkc4OfTISLKAzaU_GgbjlzgnjkUJj-j_pcKNoWhTQMa4-zXoPL2oTd_bSlC6b6ql9GkHew0qDMzacOjUSwFxjMINcZVYkTMFA2g-WEz6x5X_SdxUsLOBB-IUTooVl_yqN-meArSz5qLnTXRpVwMabTpALh6piwA0pB7PRourfsnvStVFtb3qRwGN58LghM1QRhRsbDsAVtjXBEDbAGpalOr5OXMt_47nKhVmed75xw0BEig2AGgmuKoH_bFsn6i9XmHvHgedfcmxSJmSd6OEVAP3J7jnKJ4ymAGgwxuIvlH1pR12w12R37MRkZTNlX1iJRqn2VN2jmkVUpfAzPaM1VcCxhkC3ixVBvUtOYEDrPZJ2UJpgfeMACLcQRWW6Kwvv6jX84UPQYp2JZOepAlgcEqdngSKJeBLK_Rkv2tKfv9Qb1OhGve_NVaCrcAD5II9PsctKORCiAiBtooXgFFURk6zBBtJF-4FhPR_3HqK6o14y66HT14dUV5xZEJirxVlzffX8-oXoAT3ZiQJn2fXkQoJ5YENJjc5D92lbnYdIrpMJtVRzjduUli-yWsCNRGpyWbCkBTnq4DBlUVgKQgDUnScUocqQHMl0nIDP2iVEjvrkdqIQS5YBUYT6OOFlJpNK57Bjj23hNw14Y4ekJTtMwubdvLjqzNIGOHKSDow04pQxHst4AWoS7RLLr09uvl09M80y3jCp-UXWrtnAU5eSXYA2qWdYaz2kAv_dH3-EYrGVYZdCAxy2Gh9LxAMzYLg9_1yJJ-9aGbw6Ztl4tDEUId5f0eASx1PADFh56eynacpbzh1N8WfTCNXi0ZeNmkBnCWzUXez_nwB1ptNI6EWGkPGNETRKJvIhHaq-1ClNnv0bRNGlz1VgcArR2JqGJGNmieGCWyhMJBGam4mQ7ErlIv1UTeqSVPB9ntMG1OxekbnwFoAGaanqo_2Y0XeM5HeD9zpjpgPR9hUyXNifG7uobPN3mhHC43hp7IYb6ke7cA26RNecjPLZ2n_qD06eXgJf5OW3CZb6HixGLaUKU-o74PoTXVS37cVbnQAEK3pe9acb7k1uCHbgqCO4nAEcoPEQHuodIHBu54-C9ZSEiwpSNFYC17potk7LB0gPPqv5mTqtptAtG4FVsJ8VLyCipuwui6PHfHR3WFUF2W_sm2tw7eOPvWMLJfcOrBZEvNUor5Mup2s-y4cPHy9TcpqOMRxBZbsAMk0SZCn8qFVghNSk62nCcil-Q1Mt40RGiSG4C3_OYsqW5oPp6RUc_in9lD_tpu2__uWbD2ZtPWkSPITH5P3uHe4FgbVfYDK0TMAEQv1VxnCTELXanE2NSwNL-pjBoSiWhPZgxH9dRjOvujbksGhgIhescAVUAGsJRyQ8sM7EHdDG4gWohRozDndRF75jTz67A3ctiz9fk8Vfu9j73nCKzeGLU5xy8sbmT90OhI0hUtwC3tF6DyvA9iuZOJD8zmC6KA2hzHBEsGrIIJx6LAq1ZwynSUiUluI6R8x5i9XpDwdC6v2oF9UXf6rWlwsXovd4zITE-cIDSsfjAUVaTFHyVmgnElwHsv1QCLlVmplc1q5Ruv6ikpPsCXzmkq7hi6eg7syjy9gAK0IGuORewTRIIuA1lzo9kSvFCNrvgkiliNSe7HS3JlCZsQQMCm0OMaioVcC0ARPAnm72PWRxl5f-LZgTCJ-4RVftInp__MzuMnvKqCOtlMHxU7944eVsXkwToiZixtB5FVY3rphGAdY4XY9cjxbKOyj4A1MzSlI8tzO7adTd2_xOS_TeQ7j8uDCDWUIIDenkV4GjhS6gqSabB8GocyI7_DceyKcCCbROJhdMSeXKHCdCO5e4QOTjsXDx2RU3lo363Rcxf9i0Fp3YjHjauylOKwl06Z0SnqySY-v7PXz8AKE059_V14JTkg1P8wy2E4YOjs3IheAyRkC76O7Ip-HEsa3HT-oyFwyk_bxy1hg3FTc1Pjk-6WI4H3kWhnsnapwsMIuGKR9z2O9rAvqT-3uCcC5rwsIGCFTUrVDfxRyuQy8ZcM8iOy6o3y2x9ZayZ22cH_XYipQjITUaVEP4UCNYu-B-yLW_siSYM-ZLtCDmJoA-ENm4FOVlhVSeWAwjo18xtqu7HA6yxJFxRqJyHgLezRtk3mPTvYpgpgYutULlyg4oGAWzeYDY4NVjV4g4mrH888S_Ag6CgdkC4d3DwEt9oVivYysYvdNfDcN7YwYEaeV- - -1xDHzJ8Rn522Gpt6Cj9PhKRwKjI0G2ICrZ3LYPeYJGFMe-1y0]--></g></svg>